/* ====== Theme ====== */
:root{
  --bg:#1e1e1e; --panel:#262626; --text:#ffffff; --muted:#cfcfcf; --accent:#4cc9f0;
  --ok:#16a34a; --warn:#f59e0b; --err:#ef4444; --border:#3a3a3a;
}

/* ====== Base ====== */
*{box-sizing:border-box}
html{font-size:16px}
@media (max-width:480px){ html{ font-size:15px } }
@media (min-width:1440px){ html{ font-size:17px } }

body{
  margin:0; background:var(--bg); color:var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  line-height:1.5;
}

/* ====== Header ====== */
.page-header{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; padding:14px 16px; background:var(--panel); border-bottom:1px solid var(--border);
  position:sticky; top:0; z-index:10;
}
.brand h1{ margin:0; font-size:clamp(18px, 2.2vw, 24px); letter-spacing:.3px }
.brand .sub{ color:var(--muted); font-size:clamp(12px, 1.5vw, 13px) }
.actions{ display:flex; gap:8px; flex-wrap:wrap }
.actions form{ margin:0 }
@media (max-width:700px){
  .page-header{ flex-direction:column; align-items:flex-start }
  .actions{ width:100% }
}

/* ====== Buttons ====== */
.btn{
  background:#2a2f3a; color:var(--text); border:1px solid var(--border);
  padding:8px 12px; border-radius:10px; cursor:pointer; font-weight:600;
  transition:transform .06s ease, filter .15s ease;
}
.btn.primary{ background:var(--accent); color:#0b0c10; border-color:transparent }
.btn:hover{ filter:brightness(1.08) }
.btn:active{ transform:translateY(1px) }
.btn:focus-visible{ outline:2px solid var(--accent); outline-offset:2px }

/* ====== Flash messages ====== */
.flash-stack{ padding:10px 16px; display:grid; gap:8px }
.flash{ padding:10px 12px; border-radius:10px }
.flash.success{ background:#052e1b; color:#a7f3d0 }
.flash.info{ background:#0b2a4a; color:#bae6fd }
.flash.warning{ background:#3b2f04; color:#fde68a }
.flash.error, .flash.err{ background:#3b0d0d; color:#fecaca }

/* ====== Responsive grid ====== */
.grid{
  display:grid; gap:24px; padding:20px;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
}
@media (min-width:900px){
  .grid{ gap:24px; padding:22px; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)) }
}
@media (min-width:1400px){
  .grid{ gap:26px; padding:24px; grid-template-columns: repeat(auto-fit, minmax(360px, 1fr)) }
}

/* ====== Cards & tables ====== */
.card{
  background: var(--panel);
  border: 2px solid rgba(255,255,255,0.08);
  border-radius: 14px;
  box-shadow:
    0 2px 6px rgba(0,0,0,0.35),
    0 16px 32px rgba(0,0,0,0.25);
  overflow: hidden;
}
.card::before{
  content: ""; display:block; height:4px;
  background: linear-gradient(90deg, var(--accent), transparent 60%); opacity:.9;
}
.card-head{ padding:12px 14px; border-bottom:1px solid var(--border) }
.card-title{ margin:0; font-size:clamp(15px, 1.8vw, 18px) }
.card-subtitle{ color:var(--muted); font-size:12px }
.card-body{ padding:14px }

.big-number{ font-size:clamp(26px, 4.5vw, 34px); font-weight:800 }

.table{ width:100%; border-collapse:collapse; font-size:clamp(12px, 1.4vw, 14px) }
.table th, .table td{ text-align:left; padding:8px 10px; border-bottom:1px solid var(--border); vertical-align:top }
.table th{ color:#e0e3e7; font-weight:700 }
.table tr:hover td{ background:rgba(255,255,255,0.04) }
@media (max-width:420px){ .card-body{ overflow-x:auto } .table{ min-width:380px } }

/* ====== Links & helpers ====== */
a{ color:var(--accent); text-decoration:none }
a:hover{ text-decoration:underline }
.muted{ color:var(--muted) }

/* ====== SQL preview block ====== */
.sql-wrap { margin-bottom:12px }
.sql-wrap summary { cursor:pointer; color:#c8ccd2; margin-bottom:6px }
.sql-block{
  background:#0f1117; border:1.5px solid rgba(255,255,255,0.08);
  border-radius:10px; padding:12px; overflow:auto; max-height:220px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size:12.5px; white-space:pre-wrap; word-break:break-word;
}

/* ====== Print ====== */
@media print{
  .page-header, .flash-stack { display:none }
  body{ background:white; color:black }
  .card{ border-color:#ddd; box-shadow:none }
}
